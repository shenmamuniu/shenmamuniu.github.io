{"title":"Oracle设置密码永不过期","slug":"94","date":"2021-04-21T12:06:00.000Z","updated":"2021-04-21T12:07:29.000Z","comments":true,"path":"api/articles/94.json","excerpt":"Oracle数据库的密码默认半年有效，过了时间再重启数据库可能就会连不上数据，为了方便使用故调整为密码永不过期。","covers":null,"content":"<p>Oracle数据库的密码默认半年有效，过了时间再重启数据库可能就会连不上数据，为了方便使用故调整为密码永不过期。</p>\n<span id=\"more\"></span>\n<h2 id=\"应用环境\"><a href=\"#应用环境\" class=\"headerlink\" title=\"应用环境\"></a>应用环境</h2><p>Oracle:11g r2<br>OS:win server 2016</p>\n<h2 id=\"设置密码永不过期\"><a href=\"#设置密码永不过期\" class=\"headerlink\" title=\"设置密码永不过期\"></a>设置密码永不过期</h2><p>1、查看用户的proifle是哪个，一般是default：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SELECT username,PROFILE FROM dba_users;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>2、查看指定概要文件（如default）的密码有效期设置：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SELECT * FROM dba_profiles s WHERE s.profile&#x3D;&#39;DEFAULT&#39; AND resource_name&#x3D;&#39;PASSWORD_LIFE_TIME&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>3、将密码有效期由默认的180天修改成“无限制”：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p><strong>注意：</strong>此操作无需重启数据库;<br>如果用户密码已经过期，那么还需要重新设置一次密码，</p>\n</blockquote>\n<h2 id=\"解锁用户之后用户又被锁\"><a href=\"#解锁用户之后用户又被锁\" class=\"headerlink\" title=\"解锁用户之后用户又被锁\"></a>解锁用户之后用户又被锁</h2><p>这个情况发生下修改用户密码之后，这是因为此时有连接使用了旧的密码，而用户在登陆失败次数超过一定数目时会被锁定，因此如果出现解锁用户之后很快用户又被锁定，可以检查下有没有应用在一直使用了旧的密码连接数据库。</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://www.cnblogs.com/kingwei55555/p/12127854.html\">1、修改oracle用户密码永不过期</a><br><a href=\"https://jingyan.baidu.com/article/046a7b3ec43042f9c27fa937.html\">2、Oracle 用户解锁之后总被锁住</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8f12e12\">3、封面图源</a></p>\n","more":"<h2 id=\"应用环境\"><a href=\"#应用环境\" class=\"headerlink\" title=\"应用环境\"></a>应用环境</h2><p>Oracle:11g r2<br>OS:win server 2016</p>\n<h2 id=\"设置密码永不过期\"><a href=\"#设置密码永不过期\" class=\"headerlink\" title=\"设置密码永不过期\"></a>设置密码永不过期</h2><p>1、查看用户的proifle是哪个，一般是default：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SELECT username,PROFILE FROM dba_users;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>2、查看指定概要文件（如default）的密码有效期设置：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">SELECT * FROM dba_profiles s WHERE s.profile&#x3D;&#39;DEFAULT&#39; AND resource_name&#x3D;&#39;PASSWORD_LIFE_TIME&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>3、将密码有效期由默认的180天修改成“无限制”：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p><strong>注意：</strong>此操作无需重启数据库;<br>如果用户密码已经过期，那么还需要重新设置一次密码，</p>\n</blockquote>\n<h2 id=\"解锁用户之后用户又被锁\"><a href=\"#解锁用户之后用户又被锁\" class=\"headerlink\" title=\"解锁用户之后用户又被锁\"></a>解锁用户之后用户又被锁</h2><p>这个情况发生下修改用户密码之后，这是因为此时有连接使用了旧的密码，而用户在登陆失败次数超过一定数目时会被锁定，因此如果出现解锁用户之后很快用户又被锁定，可以检查下有没有应用在一直使用了旧的密码连接数据库。</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://www.cnblogs.com/kingwei55555/p/12127854.html\">1、修改oracle用户密码永不过期</a><br><a href=\"https://jingyan.baidu.com/article/046a7b3ec43042f9c27fa937.html\">2、Oracle 用户解锁之后总被锁住</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8f12e12\">3、封面图源</a></p>","categories":[{"name":"数据库","path":"api/categories/数据库.json"}],"tags":[{"name":"安全","path":"api/tags/安全.json"},{"name":"数据库","path":"api/tags/数据库.json"},{"name":"Oracle","path":"api/tags/Oracle.json"}]}