{"title":"Mysql限制密码输入错误次数","slug":"72","date":"2020-09-23T09:33:00.000Z","updated":"2020-09-23T09:35:42.000Z","comments":true,"path":"api/articles/72.json","excerpt":"通过使用mysql内置的插件来限制异常登录，以防止异常登录。","covers":null,"content":"<p>通过使用mysql内置的插件来限制异常登录，以防止异常登录。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p>登录mysql server: mysql -uroot -p</p>\n<p>先确定mysql是否安装了connection_control 和 CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;show plugins;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果没有安装上述插件，进行安装：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">install plugin CONNECTION_CONTROL soname &#39;connection_control.so&#39;;\ninstall plugin CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS soname &#39;connection_control.so&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"修改mysql配置文件\"><a href=\"#修改mysql配置文件\" class=\"headerlink\" title=\"修改mysql配置文件\"></a>修改mysql配置文件</h2><p>如果不确定mysql的配置文件的位置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mysql --help|grep &#39;my.cnf&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>此命令会列出配置文件的路径</p>\n<p>然后在[mysqld]下添加：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">connection-control-failed-connections-threshold&#x3D;5   \nconnection-control-min-connection-delay&#x3D;108000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>service mysql restart<br>登录mysql查看配置：<br>show variables like ‘%connection_control%’;</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.csdn.net/ywd1992/article/details/83865537\">1. MySQL数据库限制多次登录失败重试时间</a><br><a href=\"https://blog.csdn.net/qq_37502106/article/details/80199321\">2. mysql配置文件路径</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8bfba2e\">3. 封面图</a></p>\n","more":"<h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p>登录mysql server: mysql -uroot -p</p>\n<p>先确定mysql是否安装了connection_control 和 CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS插件</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;show plugins;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果没有安装上述插件，进行安装：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">install plugin CONNECTION_CONTROL soname &#39;connection_control.so&#39;;\ninstall plugin CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS soname &#39;connection_control.so&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"修改mysql配置文件\"><a href=\"#修改mysql配置文件\" class=\"headerlink\" title=\"修改mysql配置文件\"></a>修改mysql配置文件</h2><p>如果不确定mysql的配置文件的位置</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mysql --help|grep &#39;my.cnf&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>此命令会列出配置文件的路径</p>\n<p>然后在[mysqld]下添加：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">connection-control-failed-connections-threshold&#x3D;5   \nconnection-control-min-connection-delay&#x3D;108000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>service mysql restart<br>登录mysql查看配置：<br>show variables like ‘%connection_control%’;</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.csdn.net/ywd1992/article/details/83865537\">1. MySQL数据库限制多次登录失败重试时间</a><br><a href=\"https://blog.csdn.net/qq_37502106/article/details/80199321\">2. mysql配置文件路径</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8bfba2e\">3. 封面图</a></p>","categories":[{"name":"数据库","path":"api/categories/数据库.json"}],"tags":[{"name":"Mysql","path":"api/tags/Mysql.json"},{"name":"安全","path":"api/tags/安全.json"},{"name":"数据库","path":"api/tags/数据库.json"}]}