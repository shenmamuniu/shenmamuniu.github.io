{"title":"升级docker中的jenkins","slug":"21","date":"2019-11-21T10:23:00.000Z","updated":"2019-11-27T14:13:37.000Z","comments":true,"path":"api/articles/21.json","excerpt":"本文主要介绍如何升级docker中的jenkins","covers":null,"content":"<p>本文主要介绍如何升级docker中的jenkins</p>\n<span id=\"more\"></span>\n<h2 id=\"环境及现状\"><a href=\"#环境及现状\" class=\"headerlink\" title=\"环境及现状\"></a>环境及现状</h2><p>OS:Ubuntu 18.04<br>现状：使用docker部署了jenkins，并把jenkins_home挂载到了本地磁盘中，现需升级jenkins版本</p>\n<h2 id=\"下载jenkins的安装包\"><a href=\"#下载jenkins的安装包\" class=\"headerlink\" title=\"下载jenkins的安装包\"></a>下载jenkins的安装包</h2><p>在<a href=\"https://mirrors.tuna.tsinghua.edu.cn/jenkins/war/latest/\">清华大学开源镜像站</a>下载最新版本的jenkins，可以使用wget下载，并将其放在jenkins_home目录下</p>\n<p>ps.清华大学开源镜像站真是个宝藏~</p>\n<h2 id=\"将下载的jenkins-war复制到jenkins容器中\"><a href=\"#将下载的jenkins-war复制到jenkins容器中\" class=\"headerlink\" title=\"将下载的jenkins.war复制到jenkins容器中\"></a>将下载的jenkins.war复制到jenkins容器中</h2><p>进入容器</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker exec -ti -u root ContainerId &#x2F;bin&#x2F;bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>复制</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cp &#x2F;var&#x2F;jenkins_home&#x2F;jenkins.war &#x2F;usr&#x2F;share&#x2F;jenkins&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"重启容器即可\"><a href=\"#重启容器即可\" class=\"headerlink\" title=\"重启容器即可\"></a>重启容器即可</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker restart +ContainerId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>其它关于docker的命令可参考之前关于docker的文章~</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.csdn.net/KissedBySnow/article/details/90229015\">1、Jenkins：CentOS7 使用 Docker 安装 Jenkins 后，升级 Jenkins 版本</a><br><a href=\"https://melare.lofter.com/post/1f010e23_1c71032c6\">2、封面图</a></p>\n","more":"<h2 id=\"环境及现状\"><a href=\"#环境及现状\" class=\"headerlink\" title=\"环境及现状\"></a>环境及现状</h2><p>OS:Ubuntu 18.04<br>现状：使用docker部署了jenkins，并把jenkins_home挂载到了本地磁盘中，现需升级jenkins版本</p>\n<h2 id=\"下载jenkins的安装包\"><a href=\"#下载jenkins的安装包\" class=\"headerlink\" title=\"下载jenkins的安装包\"></a>下载jenkins的安装包</h2><p>在<a href=\"https://mirrors.tuna.tsinghua.edu.cn/jenkins/war/latest/\">清华大学开源镜像站</a>下载最新版本的jenkins，可以使用wget下载，并将其放在jenkins_home目录下</p>\n<p>ps.清华大学开源镜像站真是个宝藏~</p>\n<h2 id=\"将下载的jenkins-war复制到jenkins容器中\"><a href=\"#将下载的jenkins-war复制到jenkins容器中\" class=\"headerlink\" title=\"将下载的jenkins.war复制到jenkins容器中\"></a>将下载的jenkins.war复制到jenkins容器中</h2><p>进入容器</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker exec -ti -u root ContainerId &#x2F;bin&#x2F;bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>复制</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cp &#x2F;var&#x2F;jenkins_home&#x2F;jenkins.war &#x2F;usr&#x2F;share&#x2F;jenkins&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"重启容器即可\"><a href=\"#重启容器即可\" class=\"headerlink\" title=\"重启容器即可\"></a>重启容器即可</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker restart +ContainerId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>其它关于docker的命令可参考之前关于docker的文章~</p>\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.csdn.net/KissedBySnow/article/details/90229015\">1、Jenkins：CentOS7 使用 Docker 安装 Jenkins 后，升级 Jenkins 版本</a><br><a href=\"https://melare.lofter.com/post/1f010e23_1c71032c6\">2、封面图</a></p>","categories":[],"tags":[{"name":"Jenkins","path":"api/tags/Jenkins.json"},{"name":"Docker","path":"api/tags/Docker.json"}]}