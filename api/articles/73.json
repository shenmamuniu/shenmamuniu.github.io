{"title":"容器部署SiteServer7.0.4后解析word包Gdip的错","slug":"73","date":"2020-11-14T11:55:24.000Z","updated":"2020-11-14T11:55:24.000Z","comments":true,"path":"api/articles/73.json","excerpt":"最新版的SiteServer使用ASP.NET Core开发，网站的响应速度提升非常明显，在使用Docker部署之后，使用过程中出现了The type initializer for ‘Gdip’ threw an exception.的问题，本文记录如何解决","covers":null,"content":"<p>最新版的SiteServer使用ASP.NET Core开发，网站的响应速度提升非常明显，在使用Docker部署之后，使用过程中出现了The type initializer for ‘Gdip’ threw an exception.的问题，本文记录如何解决</p>\n<span id=\"more\"></span>\n\n<h2 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h2><p>OS:ubuntu 16.04<br>SiteServer:7.0.6<br>Docker部署</p>\n<h2 id=\"安装Gdip\"><a href=\"#安装Gdip\" class=\"headerlink\" title=\"安装Gdip\"></a>安装Gdip</h2><p>出现这个问题是因为docker中没有安装Gdip，安装即可。<br>这里SiteServer的docker使用的Ubuntu18.04，首先换源</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cat &gt;&#x2F;etc&#x2F;apt&#x2F;sources.list&lt;&lt;&#39;EOF&#39;\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster main non-free contrib\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian-security buster&#x2F;updates main\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian-security buster&#x2F;updates main\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-updates main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-updates main non-free contrib\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-backports main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-backports main non-free contrib\nEOF<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>安装gdip  </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">apt-get update &amp;&amp; apt-get install -y apt-utils libgdiplus libc6-dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"重启容器\"><a href=\"#重启容器\" class=\"headerlink\" title=\"重启容器\"></a>重启容器</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker restart containerId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.cnrainbird.com/index.php/2020/04/19/linux_debian10_buster_geng_huan_a_li_yuan/\">1、Ubuntu 18.04更换阿里源</a><br><a href=\"https://www.cnblogs.com/youngsheep/p/11890069.html\">2、asp .net core 部署在docker中，报错 The type initializer for ‘Gdip’ threw an exception.</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8f12e12\">3、 封面图源</a></p>\n","more":"<h2 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h2><p>OS:ubuntu 16.04<br>SiteServer:7.0.6<br>Docker部署</p>\n<h2 id=\"安装Gdip\"><a href=\"#安装Gdip\" class=\"headerlink\" title=\"安装Gdip\"></a>安装Gdip</h2><p>出现这个问题是因为docker中没有安装Gdip，安装即可。<br>这里SiteServer的docker使用的Ubuntu18.04，首先换源</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cat &gt;&#x2F;etc&#x2F;apt&#x2F;sources.list&lt;&lt;&#39;EOF&#39;\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster main non-free contrib\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian-security buster&#x2F;updates main\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian-security buster&#x2F;updates main\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-updates main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-updates main non-free contrib\ndeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-backports main non-free contrib\ndeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;debian&#x2F; buster-backports main non-free contrib\nEOF<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>安装gdip  </p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">apt-get update &amp;&amp; apt-get install -y apt-utils libgdiplus libc6-dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"重启容器\"><a href=\"#重启容器\" class=\"headerlink\" title=\"重启容器\"></a>重启容器</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker restart containerId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://blog.cnrainbird.com/index.php/2020/04/19/linux_debian10_buster_geng_huan_a_li_yuan/\">1、Ubuntu 18.04更换阿里源</a><br><a href=\"https://www.cnblogs.com/youngsheep/p/11890069.html\">2、asp .net core 部署在docker中，报错 The type initializer for ‘Gdip’ threw an exception.</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c8f12e12\">3、 封面图源</a></p>","categories":[{"name":"CMS","path":"api/categories/CMS.json"}],"tags":[{"name":"Docker","path":"api/tags/Docker.json"},{"name":"ASP.NET","path":"api/tags/ASP.NET.json"},{"name":"SiteServer","path":"api/tags/SiteServer.json"}]}