{"title":"Python矩阵和字符串的互相转换","slug":"91","date":"2021-04-20T08:34:43.000Z","updated":"2021-04-20T08:34:43.000Z","comments":true,"path":"api/articles/91.json","excerpt":"为了保存图像的特征数据，需要将特征矩阵进行保存及还原。","covers":null,"content":"<p>为了保存图像的特征数据，需要将特征矩阵进行保存及还原。</p>\n<span id=\"more\"></span>\n<h2 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h2><p>OS：ubuntu18.04<br>Python:3.7</p>\n<h2 id=\"矩阵转字符串\"><a href=\"#矩阵转字符串\" class=\"headerlink\" title=\"矩阵转字符串\"></a>矩阵转字符串</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def matrix_to_str(mat):\n    return mat.tostring()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"tuple转字符串\"><a href=\"#tuple转字符串\" class=\"headerlink\" title=\"tuple转字符串\"></a>tuple转字符串</h2><p>矩阵的shape的数据类型为tuple，因此需要将其转为字符串</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">def tuple_to_str(shape):\n    return shape.__str__()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"字符串转tuple\"><a href=\"#字符串转tuple\" class=\"headerlink\" title=\"字符串转tuple\"></a>字符串转tuple</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def str_to_tuple(str):\n    return tuple(eval(str))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"字符串转矩阵\"><a href=\"#字符串转矩阵\" class=\"headerlink\" title=\"字符串转矩阵\"></a>字符串转矩阵</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def str_to_matrix(str,shape):\n    return np.frombuffer(str,dtype&#x3D;np.float32).reshape(shape)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://www.jb51.net/article/78541.htm\">1、Python字符串、元组、列表、字典互相转换的方法</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c7474e60\">2、封面图</a></p>\n","more":"<h2 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h2><p>OS：ubuntu18.04<br>Python:3.7</p>\n<h2 id=\"矩阵转字符串\"><a href=\"#矩阵转字符串\" class=\"headerlink\" title=\"矩阵转字符串\"></a>矩阵转字符串</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def matrix_to_str(mat):\n    return mat.tostring()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"tuple转字符串\"><a href=\"#tuple转字符串\" class=\"headerlink\" title=\"tuple转字符串\"></a>tuple转字符串</h2><p>矩阵的shape的数据类型为tuple，因此需要将其转为字符串</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">def tuple_to_str(shape):\n    return shape.__str__()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"字符串转tuple\"><a href=\"#字符串转tuple\" class=\"headerlink\" title=\"字符串转tuple\"></a>字符串转tuple</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def str_to_tuple(str):\n    return tuple(eval(str))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"字符串转矩阵\"><a href=\"#字符串转矩阵\" class=\"headerlink\" title=\"字符串转矩阵\"></a>字符串转矩阵</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">def str_to_matrix(str,shape):\n    return np.frombuffer(str,dtype&#x3D;np.float32).reshape(shape)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"Referenced\"><a href=\"#Referenced\" class=\"headerlink\" title=\"Referenced\"></a>Referenced</h2><p><a href=\"https://www.jb51.net/article/78541.htm\">1、Python字符串、元组、列表、字典互相转换的方法</a><br><a href=\"https://huadou145.lofter.com/post/205d4db3_1c7474e60\">2、封面图</a></p>","categories":[{"name":"Python","path":"api/categories/Python.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"Numpy","path":"api/tags/Numpy.json"}]}